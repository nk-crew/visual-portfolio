(()=>{"use strict";var o={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},d:(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t)};const t=window.jQuery;var e=o.n(t);const i=window.lodash,n=e()(document);n.on("click",".wp-block-visual-portfolio-pagination-previous, .wp-block-visual-portfolio-pagination-next, .wp-block-visual-portfolio-pagination-numbers a, .wp-block-visual-portfolio-pagination-load-more, .wp-block-visual-portfolio-pagination-infinite",(o=>{const t=e()(o.currentTarget),i=t.closest(".wp-block-visual-portfolio-loop").find(".vp-portfolio"),n=i?.[0]?.vpf;if(!n)return;o.preventDefault();const r=t.hasClass("wp-block-visual-portfolio-pagination-previous")||t.hasClass("wp-block-visual-portfolio-pagination-next")||!!t.parent(".wp-block-visual-portfolio-pagination-numbers").length;n.loadNewItems(t.attr("href"),r)})),n.on("loadedNewItems.vpf",(function(o,t){"vpf"===o.namespace&&t.$item.find("wp-block-visual-portfolio-pagination-infinite").length&&setTimeout((()=>{const o=t.$item.find(".wp-block-visual-portfolio-pagination-infinite.is-intersecting:first");o.length&&o.attr("href")&&t.loadNewItems(o.attr("href"),!1)}),100)}));const r=new window.IntersectionObserver(((o,t)=>{try{o.forEach((o=>{if(!o.target)return;const e=o.target.getAttribute("href");if(e)if(o.isIntersecting){o.target.classList.add("is-intersecting");const t=o.target.closest(".wp-block-visual-portfolio-loop"),i=t?.querySelector(".vp-portfolio"),n=i?.vpf;n&&n.loadNewItems(e,!1)}else o.target.classList.remove("is-intersecting");else t.disconnect()}))}catch(o){console.log(o)}}),{rootMargin:"300px 0px"}),a=(0,i.throttle)((()=>{document.querySelectorAll(".wp-block-visual-portfolio-pagination-infinite[href]:not(.is-handled)").forEach((o=>{o.classList.add("is-handled"),r.observe(o)}))}),200);n.on("ready",(()=>{new window.MutationObserver(a).observe(document.documentElement,{childList:!0,subtree:!0})}))})();
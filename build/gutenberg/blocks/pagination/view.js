(()=>{"use strict";var o={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return o.d(i,{a:i}),i},d:(t,i)=>{for(var e in i)o.o(i,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t)};const t=window.jQuery;var i=o.n(t);const e=window.lodash;var n=i()(document);n.on("click",".wp-block-visual-portfolio-pagination-previous, .wp-block-visual-portfolio-pagination-next, .wp-block-visual-portfolio-pagination-numbers a, .wp-block-visual-portfolio-pagination-load-more, .wp-block-visual-portfolio-pagination-infinite",function(o){var t,e=i()(o.currentTarget),n=e.closest(".wp-block-visual-portfolio-loop").find(".vp-portfolio"),a=null==n||null===(t=n[0])||void 0===t?void 0:t.vpf;if(a){o.preventDefault();var l=e.hasClass("wp-block-visual-portfolio-pagination-previous")||e.hasClass("wp-block-visual-portfolio-pagination-next")||!!e.parent(".wp-block-visual-portfolio-pagination-numbers").length;a.loadNewItems(e.attr("href"),l)}}),n.on("loadedNewItems.vpf",function(o,t){"vpf"===o.namespace&&t.$item.find("wp-block-visual-portfolio-pagination-infinite").length&&setTimeout(function(){var o=t.$item.find(".wp-block-visual-portfolio-pagination-infinite.is-intersecting:first");o.length&&o.attr("href")&&t.loadNewItems(o.attr("href"),!1)},100)});var a=new window.IntersectionObserver(function(o,t){try{o.forEach(function(o){if(o.target){var i=o.target.getAttribute("href");if(i)if(o.isIntersecting){o.target.classList.add("is-intersecting");var e=o.target.closest(".wp-block-visual-portfolio-loop"),n=null==e?void 0:e.querySelector(".vp-portfolio"),a=null==n?void 0:n.vpf;a&&a.loadNewItems(i,!1)}else o.target.classList.remove("is-intersecting");else t.disconnect()}})}catch(o){console.log(o)}},{rootMargin:"300px 0px"}),l=(0,e.throttle)(function(){document.querySelectorAll(".wp-block-visual-portfolio-pagination-infinite[href]:not(.is-handled)").forEach(function(o){o.classList.add("is-handled"),a.observe(o)})},200);n.on("ready",function(){new window.MutationObserver(l).observe(document.documentElement,{childList:!0,subtree:!0})})})();